<br />
<h1>Demande de Mission</h1>

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-9 col-sm-12 mb-4 d-flex justify-content-center">
            <div class="container-fluid text-center">
                <div class="error">
                    {{messageErreur}}
                </div>
                <form appDateFinValidateur appDateDebutValidateur (ngSubmit)="valider()" #modifForm="ngForm">
                    <ul class="form-group">
                        <li class="row">
                            <label class="col text-right">Date de début : </label>
                            <input class="col form-control" [(ngModel)]="mission.dateDebut" type="date" name="dateDebut"
                                required #dateDebut="ngModel" />
                            <div class="col-12 error" *ngIf="modifForm.errors && modifForm.errors.dateDebut">
                                {{modifForm.errors.dateDebut}}
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Date de fin : </label>
                            <input class="col form-control" [(ngModel)]="mission.dateFin" type="date" name="dateFin"
                                required #dateFin="ngModel" />
                            <div class="col-12 error" *ngIf="modifForm.errors && modifForm.errors.dateFin">
                                {{modifForm.errors.dateFin}}
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Nature : </label>
                            <select class="col text-left form-control" id="nature" [ngModelOptions]="{updateOn:'blur'}"
                                [(ngModel)]="nature" #nature_id="ngModel" name="nature" required>
                                <optgroup label="-- Sélectionez la nature de la mission"></optgroup>
                                <option *ngFor="let nature of natures" [value]="nature.name_id">
                                    {{nature.name}}
                                </option>
                            </select>
                            <div class="col-12 error" *ngIf="nature_id.invalid">
                                Le champ doit être sélectionné !
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Ville de départ :</label>
                            <input class="col text-left form-control" [(ngModel)]="mission.villeDepart" type="text"
                                name="villeDepart" required #villeDepart="ngModel" />
                            <div class="col-12 error" *ngIf="villeDepart.dirty && villeDepart.invalid">
                                Le champ doit être rempli !
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Ville d'arrivée :</label>
                            <input class="col text-left form-control" [(ngModel)]="mission.villeArrivee" type="text"
                                name="villeArrivee" #villeArrivee="ngModel" />
                            <div class="col-12 error" *ngIf="villeArrivee.dirty && villeArrivee.invalid">
                                Le champ doit être rempli !
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Transport : </label>
                            <select class="col form-control" id="transport" [(ngModel)]="transport"
                                #transport_id="ngModel" name="transport" required>
                                <optgroup label="-- Choisissez un type de transport">
                                    <option *ngFor="let tran of transports" [value]="tran.name_id">{{tran.name}}
                                    </option>
                                </optgroup>
                            </select>
                            <div class="col-12 error" *ngIf="transport_id.invalid">
                                Le champ doit être sélectionné !
                            </div>
                        </li>
                        <br />
                        <li class="row">
                            <label class="col text-right">Estimation prime :</label>
                            <p class="col text-left form-control"> <input id="prime" [(ngModel)]="mission.prime"
                                    type="text" name="prime" #prime="ngModel" required /> €</p>
                            <div class="col-12 error" *ngIf="prime.dirty && prime.invalid">
                                Le champ doit être rempli !
                            </div>
                        </li>
                        <br />
                        <li class="row justify-content-center">
                            <button class=" btn btn-danger float-right" routerLink="/mission"
                                routerLinkActive="active-link">Annuler</button>
                            <button class=" btn btn-success float-left" [disabled]="modifForm.invalid"
                                type="submit">Valider</button>
                        </li>
                    </ul>
                </form>
            </div>
        </div>
    </div>
</div>